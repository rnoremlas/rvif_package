<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>VIF and CV calculation — cv_vif • rvif</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="VIF and CV calculation — cv_vif"><meta name="description" content="This function provides the values for the Variance Inflation Factor (VIF) and the Coefficient of Variation (CV) for the independent variables (excluding the intercept) in a multiple linear regression model."><meta property="og:description" content="This function provides the values for the Variance Inflation Factor (VIF) and the Coefficient of Variation (CV) for the independent variables (excluding the intercept) in a multiple linear regression model."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rvif</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/The_rvif_package.html">The_rvif_package</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rnoremlas/rvif_package/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>VIF and CV calculation</h1>

      <div class="d-none name"><code>cv_vif.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function provides the values for the Variance Inflation Factor (VIF) and the Coefficient of Variation (CV) for the independent variables (excluding the intercept) in a multiple linear regression model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cv_vif</span><span class="op">(</span><span class="va">x</span>, tol <span class="op">=</span> <span class="fl">1e-30</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A numerical design matrix containing more than one regressor, including the intercept in the first column.</p></dd>

  <dt id="arg-tol">tol<a class="anchor" aria-label="anchor" href="#arg-tol"></a></dt>
<dd><p>A real number that indicates the tolerance beyond which the system is considered computationally unique when calculating the VIF.
       The default value is <code>tol=1e-30</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>It is interesting to note the distinction between essential and non-essential multicollinearity. Essential multicollinearity happens
when there is an approximate linear relationship between two or more independent variables (not including the intercept) while non-essential multicollinearity
involves a linear relationship between the intercept and at least one independent variable. This distinction matters because the Variance Inflation Factor (VIF) only detects essential multicollinearity,
while the Condition Value (CV) is useful for detecting only non-essential multicollinearity.
Understanding the distinction between essential and non-essential multicollinearity and the limitations of each detection measure, can be very useful for identifying whether there is a troubling degree of multicollinearity,
and determining the kind of multicollinearity present and the variables causing it.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p></p>
<dl><dt>CV</dt>
<dd><p>Coefficient of Variation of each independent variable.</p></dd>

  <dt>VIF</dt>
<dd><p>Variance Inflation Factor of each independent variable.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Salmerón, R., García, C.B. and García, J. (2018). Variance inflation factor and condition number in multiple linear
regression. Journal of Statistical Computation and Simulation, 88:2365-2384, doi: <a href="https://doi.org/10.1080/00949655.2018.1463376" class="external-link">doi:10.1080/00949655.2018.1463376</a>
.</p>
<p>Salmerón, R., Rodríguez, A. and García, C.B. (2020). Diagnosis and quantification of
the non-essential collinearity. Computational Statistics, 35(2), 647-666, doi: <a href="https://doi.org/10.1007/s00180-019-00922-x" class="external-link">doi:10.1007/s00180-019-00922-x</a>
.</p>
<p>Salmerón, R., García, C.B., Rodríguez, A. and García, C. (2022). Limitations in detecting multicollinearity due to scaling issues in the
mcvis package. R Journal, 14(4), 264-279, doi: <a href="https://doi.org/10.32614/RJ-2023-010" class="external-link">doi:10.32614/RJ-2023-010</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>R. Salmerón (<a href="mailto:romansg@ugr.es">romansg@ugr.es</a>) and C. García (<a href="mailto:cbgarcia@ugr.es">cbgarcia@ugr.es</a>).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="plot.cv_vif.html">plot.cv_vif</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">### Example 1 </span></span></span>
<span class="r-in"><span><span class="co">### At least three independent variables, including the intercept, must be present</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">SLM1</span>, n<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           y1 cte         V</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  82.392059   1 19.001420</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  -1.942157   1 -1.733458</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   7.474090   1  1.025146</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 -12.303381   1 -4.445014</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  30.378203   1  6.689864</span>
<span class="r-in"><span>  <span class="va">y</span> <span class="op">=</span> <span class="va">SLM1</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">=</span> <span class="va">SLM1</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="fu">cv_vif</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> At least 3 independent variables are needed (including the intercept in the first column) to carry out the calculations. The code 'plot(cv_vif(x))' or 'cv_vif(x) |&gt; plot()' will fail.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Example 2</span></span></span>
<span class="r-in"><span><span class="co">### Creating the design matrix</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://colldetreat.r-forge.r-project.org/" class="external-link">multiColl</a></span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2025</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">obs</span> <span class="op">=</span> <span class="fl">100</span></span></span>
<span class="r-in"><span>  <span class="va">cte</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">obs</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">obs</span>, <span class="fl">5</span>, <span class="fl">0.01</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x3</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">obs</span>, <span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x4</span> <span class="op">=</span> <span class="va">x3</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">obs</span>, <span class="fl">5</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x5</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">obs</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">30</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">cte</span>, <span class="va">x2</span>, <span class="va">x3</span>, <span class="va">x4</span>, <span class="va">x5</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">cv_vif</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      CV        VIF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable 2  0.002030169   1.025399</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable 3  1.886093419 100.123352</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable 4  0.961634537 100.320601</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable 5 10.725968638   1.025810</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Example 3 </span></span></span>
<span class="r-in"><span><span class="co">### Obtaining the design matrix after executing the command 'lm'</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://colldetreat.r-forge.r-project.org/" class="external-link">multiColl</a></span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2025</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">obs</span> <span class="op">=</span> <span class="fl">100</span></span></span>
<span class="r-in"><span>  <span class="va">cte</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">obs</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">obs</span>, <span class="fl">5</span>, <span class="fl">0.01</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x3</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">obs</span>, <span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x4</span> <span class="op">=</span> <span class="va">x3</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">obs</span>, <span class="fl">5</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x5</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">obs</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">30</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">u</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">obs</span>, <span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">y</span> <span class="op">=</span> <span class="fl">5</span> <span class="op">+</span> <span class="fl">4</span><span class="op">*</span><span class="va">x2</span> <span class="op">-</span> <span class="fl">5</span><span class="op">*</span><span class="va">x3</span> <span class="op">+</span> <span class="fl">2</span><span class="op">*</span><span class="va">x4</span> <span class="op">-</span> <span class="va">x5</span> <span class="op">+</span> <span class="va">u</span></span></span>
<span class="r-in"><span>  <span class="va">reg</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span><span class="op">~</span><span class="va">x2</span><span class="op">+</span><span class="va">x3</span><span class="op">+</span><span class="va">x4</span><span class="op">+</span><span class="va">x5</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/model.matrix.html" class="external-link">model.matrix</a></span><span class="op">(</span><span class="va">reg</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">cv_vif</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># identical to Example 2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      CV        VIF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable 2  0.002030169   1.025399</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable 3  1.886093419 100.123352</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable 4  0.961634537 100.320601</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable 5 10.725968638   1.025810</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Example 3 </span></span></span>
<span class="r-in"><span><span class="co">### Computationally singular system</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">soil</span>, n<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   BaseSat SumCation CECbuffer     Ca     Mg      K    Na     P    Cu    Zn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    2.34    0.1576     0.614 0.0892 0.0328 0.0256 0.010 0.000 0.080 0.184</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    1.64    0.0970     0.516 0.0454 0.0218 0.0198 0.010 0.000 0.064 0.112</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    5.20    0.4520     0.828 0.3306 0.0758 0.0336 0.012 0.240 0.136 0.350</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4.10    0.3054     0.698 0.2118 0.0536 0.0260 0.014 0.030 0.126 0.364</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    2.70    0.2476     0.858 0.1568 0.0444 0.0304 0.016 0.384 0.078 0.376</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Mn HumicMatter Density    pH ExchAc Diversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 3.200      0.1220  0.0822 0.516  0.466 0.2765957</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2.734      0.0952  0.0850 0.512  0.430 0.2613982</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 4.148      0.1822  0.0746 0.554  0.388 0.2553191</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 3.728      0.1646  0.0756 0.546  0.408 0.2401216</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 4.756      0.2472  0.0692 0.450  0.624 0.1884498</span>
<span class="r-in"><span>  <span class="va">y</span> <span class="op">=</span> <span class="va">soil</span><span class="op">[</span>,<span class="fl">16</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">=</span> <span class="va">soil</span><span class="op">[</span>,<span class="op">-</span><span class="fl">16</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="fu">cv_vif</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> System is computationally singular. Modify the design matrix before running the code. The code 'plot(cv_vif(x))' or 'cv_vif(x) |&gt; plot()' will fail.</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by R. Salmerón, C.B. García.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

